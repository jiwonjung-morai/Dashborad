<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>월별 자금 수지 대시보드</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
        }
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .kpi-card {
            transition: all 0.3s;
            cursor: pointer;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        table th, table td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        table th {
            background-color: #f1f5f9;
            font-weight: 600;
        }
        table tr:hover {
            background-color: #f8fafc;
        }
        .progress-bar {
            height: 10px;
            background-color: #e2e8f0;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background-color: #3b82f6;
            border-radius: 5px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="dashboard-container p-5">
        <header class="mb-6">
            <div class="flex justify-between items-center">
                <h1 class="text-3xl font-bold text-gray-800">📊 월별 자금 수지 대시보드</h1>
                <div class="text-gray-500">
                    <span id="current-date"></span>
                    <span class="ml-3">업데이트: 매월 10일</span>
                </div>
            </div>
            <p class="text-gray-600 mt-2">투자자 대상 공유용 통합 대시보드(엑셀에서 데시보드 생성 후 개별 시트에서 raw 데이터 확인 가능하도록)</p>
        </header>

        <!-- KPI Cards Section -->
        <section class="mb-8">
            <h2 class="text-xl font-semibold mb-4 text-gray-700">🔵 KPI 카드 영역</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-blue-500" data-tab="revenue">
                    <h3 class="text-sm text-gray-500 font-medium">매출 총액</h3>
                    <p class="text-2xl font-bold text-gray-800">₩125,000,000</p>
                    <p class="text-xs text-green-500 mt-1"><i class="fas fa-arrow-up"></i> 전월 대비 12.5% 증가</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-red-500" data-tab="expenses">
                    <h3 class="text-sm text-gray-500 font-medium">총 비용</h3>
                    <p class="text-2xl font-bold text-gray-800">₩78,500,000</p>
                    <p class="text-xs text-red-500 mt-1"><i class="fas fa-arrow-up"></i> 전월 대비 5.2% 증가</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-green-500" data-tab="cash">
                    <h3 class="text-sm text-gray-500 font-medium">현금 보유액</h3>
                    <p class="text-2xl font-bold text-gray-800">₩324,780,000</p>
                    <p class="text-xs text-green-500 mt-1"><i class="fas fa-arrow-up"></i> 전월 대비 8.3% 증가</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-yellow-500" data-tab="burn-rate">
                    <h3 class="text-sm text-gray-500 font-medium">Net Burn Rate</h3>
                    <p class="text-2xl font-bold text-gray-800">₩26,500,000</p>
                    <p class="text-xs text-yellow-500 mt-1"><i class="fas fa-minus"></i> 전월 대비 변화 없음</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-purple-500" data-tab="burn-rate">
                    <h3 class="text-sm text-gray-500 font-medium">Runway</h3>
                    <p class="text-2xl font-bold text-gray-800">12.3 개월</p>
                    <p class="text-xs text-green-500 mt-1"><i class="fas fa-arrow-up"></i> 전월 대비 0.8개월 증가</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-indigo-500" data-tab="subsidies">
                    <h3 class="text-sm text-gray-500 font-medium">보조금 입금액</h3>
                    <p class="text-2xl font-bold text-gray-800">₩45,000,000</p>
                    <p class="text-xs text-green-500 mt-1"><i class="fas fa-arrow-up"></i> 전월 대비 30% 증가</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-pink-500" data-tab="revenue">
                    <h3 class="text-sm text-gray-500 font-medium">30일 내 입금 예정액</h3>
                    <p class="text-2xl font-bold text-gray-800">₩57,800,000</p>
                    <p class="text-xs text-gray-500 mt-1"><i class="fas fa-calendar"></i> 3건 예정</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-teal-500" data-tab="projects">
                    <h3 class="text-sm text-gray-500 font-medium">30일 내 완료 프로젝트</h3>
                    <p class="text-2xl font-bold text-gray-800">4 건</p>
                    <p class="text-xs text-gray-500 mt-1"><i class="fas fa-tasks"></i> 평균 진행률 92%</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-orange-500" data-tab="revenue">
                    <h3 class="text-sm text-gray-500 font-medium">최근 30일 수주액</h3>
                    <p class="text-2xl font-bold text-gray-800">₩85,000,000</p>
                    <p class="text-xs text-green-500 mt-1"><i class="fas fa-arrow-up"></i> 전월 대비 15% 증가</p>
                </div>
                <div class="kpi-card bg-white p-4 rounded-lg shadow-md border-l-4 border-gray-500" data-tab="burn-rate">
                    <h3 class="text-sm text-gray-500 font-medium">Gross Burn Rate</h3>
                    <p class="text-2xl font-bold text-gray-800">₩78,500,000</p>
                    <p class="text-xs text-red-500 mt-1"><i class="fas fa-arrow-up"></i> 전월 대비 5.2% 증가</p>
                </div>
            </div>
        </section>

        <!-- Main Navigation Tabs -->
        <div class="mb-6 flex border-b">
            <button class="px-4 py-2 font-medium text-gray-700 tab-btn active" data-tab="dashboard">대시보드</button>
            <button class="px-4 py-2 font-medium text-gray-700 tab-btn" data-tab="revenue">매출 상세</button>
            <button class="px-4 py-2 font-medium text-gray-700 tab-btn" data-tab="subsidies">보조금 상세</button>
            <button class="px-4 py-2 font-medium text-gray-700 tab-btn" data-tab="expenses">비용 상세</button>
            <button class="px-4 py-2 font-medium text-gray-700 tab-btn" data-tab="projects">프로젝트 진행</button>
            <button class="px-4 py-2 font-medium text-gray-700 tab-btn" data-tab="sales">영업 파이프라인</button>
        </div>

        <!-- Dashboard Tab (Main) -->
        <div id="dashboard" class="tab-content active">
            <!-- Charts Section -->
            <section class="mb-8 grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">📈 월별 매출/비용/보조금 추이</h3>
                    <div class="chart-container">
                        <canvas id="monthlyFinanceChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">📊 잔액 변화 및 Burn Rate</h3>
                    <div class="chart-container">
                        <canvas id="balanceChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-5 rounded-lg shadow-md lg:col-span-2">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">📋 수주 내역 및 프로젝트 현황</h3>
                    <div class="chart-container">
                        <canvas id="projectsChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Information Lists Section -->
            <section class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">📋 30일 이내 종료 프로젝트</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>프로젝트명</th>
                                <th>종료일</th>
                                <th>진행률</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>AI 모듈 개발</td>
                                <td>2023-06-15</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 95%"></div>
                                    </div>
                                    <span class="text-xs">95%</span>
                                </td>
                            </tr>
                            <tr>
                                <td>데이터 파이프라인 구축</td>
                                <td>2023-06-20</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 88%"></div>
                                    </div>
                                    <span class="text-xs">88%</span>
                                </td>
                            </tr>
                            <tr>
                                <td>클라우드 인프라 최적화</td>
                                <td>2023-06-22</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 92%"></div>
                                    </div>
                                    <span class="text-xs">92%</span>
                                </td>
                            </tr>
                            <tr>
                                <td>UI/UX 개선 프로젝트</td>
                                <td>2023-06-28</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 85%"></div>
                                    </div>
                                    <span class="text-xs">85%</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">💰 30일 이내 입금 예정 사업</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>계약명</th>
                                <th>입금예정일</th>
                                <th>금액</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>A사 라이선스 계약</td>
                                <td>2023-06-10</td>
                                <td>₩25,000,000</td>
                            </tr>
                            <tr>
                                <td>B사 API 개발</td>
                                <td>2023-06-15</td>
                                <td>₩18,000,000</td>
                            </tr>
                            <tr>
                                <td>과학기술정보통신부 보조금</td>
                                <td>2023-06-20</td>
                                <td>₩14,800,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">📝 최근 30일 이내 수주 내역</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>계약명</th>
                                <th>고객사</th>
                                <th>금액</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>데이터 분석 솔루션</td>
                                <td>C기업</td>
                                <td>₩35,000,000</td>
                            </tr>
                            <tr>
                                <td>ML 모델 고도화</td>
                                <td>D연구소</td>
                                <td>₩28,000,000</td>
                            </tr>
                            <tr>
                                <td>하드웨어 연동 API</td>
                                <td>E기업</td>
                                <td>₩22,000,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <!-- Revenue Tab -->
        <div id="revenue" class="tab-content">
            <section class="mb-8">
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">매출 상세 분석</h2>
                    <div class="chart-container">
                        <canvas id="revenueDetailChart"></canvas>
                    </div>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">수주 내역</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>계약명</th>
                                <th>고객사</th>
                                <th>계약일</th>
                                <th>금액</th>
                                <th>매출 인식 방식</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>AI 영상분석 솔루션</td>
                                <td>A전자</td>
                                <td>2023-04-15</td>
                                <td>₩45,000,000</td>
                                <td>라이선스 + 유지보수</td>
                            </tr>
                            <tr>
                                <td>빅데이터 플랫폼 구축</td>
                                <td>B금융</td>
                                <td>2023-05-02</td>
                                <td>₩85,000,000</td>
                                <td>NRE</td>
                            </tr>
                            <tr>
                                <td>스마트 팩토리 분석 시스템</td>
                                <td>C제조</td>
                                <td>2023-05-15</td>
                                <td>₩35,000,000</td>
                                <td>하드웨어 + 라이선스</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">수주 예정 사업</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>프로젝트명</th>
                                <th>고객사</th>
                                <th>가능성(%)</th>
                                <th>기대 수주액</th>
                                <th>예상 계약일</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>데이터 레이크 구축</td>
                                <td>D통신</td>
                                <td>85%</td>
                                <td>₩120,000,000</td>
                                <td>2023-07-15</td>
                            </tr>
                            <tr>
                                <td>AI 예측 모델링</td>
                                <td>E리테일</td>
                                <td>60%</td>
                                <td>₩70,000,000</td>
                                <td>2023-08-01</td>
                            </tr>
                            <tr>
                                <td>클라우드 마이그레이션</td>
                                <td>F서비스</td>
                                <td>75%</td>
                                <td>₩95,000,000</td>
                                <td>2023-07-25</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">매출 인식 기준</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="border p-4 rounded-lg">
                            <h4 class="font-medium mb-2">라이선스</h4>
                            <ul class="list-disc pl-5 text-sm">
                                <li>계약 시점에 매출 인식</li>
                                <li>갱신형은 갱신 시점마다 인식</li>
                                <li>구독형은 월별 안분 인식</li>
                            </ul>
                        </div>
                        <div class="border p-4 rounded-lg">
                            <h4 class="font-medium mb-2">NRE (개발용역)</h4>
                            <ul class="list-disc pl-5 text-sm">
                                <li>진행률에 따라 매출 인식</li>
                                <li>마일스톤 기준 안분 인식</li>
                                <li>검수 완료 시점에 잔금 인식</li>
                            </ul>
                        </div>
                        <div class="border p-4 rounded-lg">
                            <h4 class="font-medium mb-2">하드웨어</h4>
                            <ul class="list-disc pl-5 text-sm">
                                <li>납품 시점에 일괄 인식</li>
                                <li>설치 서비스 포함 시 설치완료 후</li>
                                <li>장기 유지보수는 기간별 안분</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Subsidies Tab -->
        <div id="subsidies" class="tab-content">
            <section class="mb-8">
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">보조금 상세 분석</h2>
                    <div class="chart-container">
                        <canvas id="subsidiesDetailChart"></canvas>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">부처별 보조금 분류</h3>
                        <div class="chart-container">
                            <canvas id="subsidiesByDeptChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">월별 보조금 입금 추이</h3>
                        <div class="chart-container">
                            <canvas id="subsidiesTrendChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">보조금 과제 현황</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>과제명</th>
                                <th>주관부처</th>
                                <th>입금일</th>
                                <th>금액</th>
                                <th>진행률</th>
                                <th>산출물</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>인공지능 기반 데이터 분석 플랫폼</td>
                                <td>과학기술정보통신부</td>
                                <td>2023-04-10</td>
                                <td>₩25,000,000</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 65%"></div>
                                    </div>
                                    <span class="text-xs">65%</span>
                                </td>
                                <td>플랫폼 베타버전</td>
                            </tr>
                            <tr>
                                <td>스마트시티 데이터 수집체계</td>
                                <td>국토교통부</td>
                                <td>2023-05-15</td>
                                <td>₩18,000,000</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 40%"></div>
                                    </div>
                                    <span class="text-xs">40%</span>
                                </td>
                                <td>데이터 모델링</td>
                            </tr>
                            <tr>
                                <td>신재생에너지 효율화 시스템</td>
                                <td>산업통상자원부</td>
                                <td>2023-03-20</td>
                                <td>₩22,000,000</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 80%"></div>
                                    </div>
                                    <span class="text-xs">80%</span>
                                </td>
                                <td>알고리즘 모듈</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">산출물 내재화 현황</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>산출물명</th>
                                <th>관련 과제</th>
                                <th>내재화 단계</th>
                                <th>리소스 투입 (MM)</th>
                                <th>활용 계획</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>데이터 파이프라인 모듈</td>
                                <td>인공지능 기반 데이터 분석 플랫폼</td>
                                <td>제품 통합 단계</td>
                                <td>4.5 MM</td>
                                <td>클라우드 서비스 출시</td>
                            </tr>
                            <tr>
                                <td>IoT 데이터 수집 프레임워크</td>
                                <td>스마트시티 데이터 수집체계</td>
                                <td>개발 진행중</td>
                                <td>3.2 MM</td>
                                <td>자사 솔루션 통합</td>
                            </tr>
                            <tr>
                                <td>에너지 예측 알고리즘</td>
                                <td>신재생에너지 효율화 시스템</td>
                                <td>상용화 준비</td>
                                <td>5.8 MM</td>
                                <td>별도 API 서비스 출시</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <!-- Expenses Tab -->
        <div id="expenses" class="tab-content">
            <section class="mb-8">
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">비용 상세 분석</h2>
                    <div class="chart-container">
                        <canvas id="expensesDetailChart"></canvas>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">카테고리별 비용 분포</h3>
                        <div class="chart-container">
                            <canvas id="expensesByCategoryChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">월별 비용 추이</h3>
                        <div class="chart-container">
                            <canvas id="expensesTrendChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">비용 구분 기준</h3>
                    <table>
                        <thead>
                            <tr>
                                <th rowspan="2">구분</th>
                                <th colspan="2" class="text-center">일반</th>
                                <th colspan="2" class="text-center">보조금</th>
                            </tr>
                            <tr>
                                <th>고정비</th>
                                <th>간접비</th>
                                <th>고정비</th>
                                <th>간접비</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>인건비</td>
                                <td>✓</td>
                                <td></td>
                                <td>✓</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>외주용역비</td>
                                <td></td>
                                <td>✓</td>
                                <td></td>
                                <td>✓</td>
                            </tr>
                            <tr>
                                <td>클라우드/서버비</td>
                                <td>✓</td>
                                <td></td>
                                <td>✓</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>마케팅비</td>
                                <td></td>
                                <td>✓</td>
                                <td></td>
                                <td>✓</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">주요 비용 항목 상세</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>항목</th>
                                <th>구분</th>
                                <th>월 평균</th>
                                <th>비중</th>
                                <th>증감 추세</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>개발인력 인건비</td>
                                <td>고정비</td>
                                <td>₩42,500,000</td>
                                <td>54.1%</td>
                                <td><span class="text-green-500">↗ 완만 증가</span></td>
                            </tr>
                            <tr>
                                <td>클라우드 서버</td>
                                <td>고정비</td>
                                <td>₩8,700,000</td>
                                <td>11.1%</td>
                                <td><span class="text-red-500">↑ 급증</span></td>
                            </tr>
                            <tr>
                                <td>외주 디자인</td>
                                <td>간접비</td>
                                <td>₩5,300,000</td>
                                <td>6.8%</td>
                                <td><span class="text-gray-500">→ 유지</span></td>
                            </tr>
                            <tr>
                                <td>보조금 프로젝트 인력</td>
                                <td>고정비(보조금)</td>
                                <td>₩15,800,000</td>
                                <td>20.1%</td>
                                <td><span class="text-green-500">↗ 완만 증가</span></td>
                            </tr>
                            <tr>
                                <td>마케팅 캠페인</td>
                                <td>간접비</td>
                                <td>₩6,200,000</td>
                                <td>7.9%</td>
                                <td><span class="text-red-500">↑ 급증</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <!-- Projects Tab -->
        <div id="projects" class="tab-content">
            <section class="mb-8">
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-gray-700">프로젝트 진행 현황</h2>
                        <div>
                            <select class="border px-3 py-2 rounded text-sm">
                                <option>전체 프로젝트</option>
                                <option>민간 프로젝트</option>
                                <option>보조금 프로젝트</option>
                                <option>30일 내 종료</option>
                            </select>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>프로젝트명</th>
                                <th>고객사/기관</th>
                                <th>시작일</th>
                                <th>종료일</th>
                                <th>진행률</th>
                                <th>잔여 MM</th>
                                <th>유형</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>AI 영상분석 솔루션</td>
                                <td>A전자</td>
                                <td>2023-03-01</td>
                                <td>2023-06-15</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 95%"></div>
                                    </div>
                                    <span class="text-xs">95%</span>
                                </td>
                                <td>0.8</td>
                                <td><span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">민간</span></td>
                            </tr>
                            <tr>
                                <td>빅데이터 플랫폼</td>
                                <td>B금융</td>
                                <td>2023-05-02</td>
                                <td>2023-08-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 40%"></div>
                                    </div>
                                    <span class="text-xs">40%</span>
                                </td>
                                <td>6.5</td>
                                <td><span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">민간</span></td>
                            </tr>
                            <tr>
                                <td>인공지능 데이터 플랫폼</td>
                                <td>과학기술정보통신부</td>
                                <td>2023-02-15</td>
                                <td>2023-06-20</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 87%"></div>
                                    </div>
                                    <span class="text-xs">87%</span>
                                </td>
                                <td>1.2</td>
                                <td><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">보조금</span></td>
                            </tr>
                            <tr>
                                <td>스마트 팩토리 시스템</td>
                                <td>C제조</td>
                                <td>2023-05-15</td>
                                <td>2023-07-15</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 35%"></div>
                                    </div>
                                    <span class="text-xs">35%</span>
                                </td>
                                <td>4.2</td>
                                <td><span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">민간</span></td>
                            </tr>
                            <tr>
                                <td>스마트시티 데이터 수집</td>
                                <td>국토교통부</td>
                                <td>2023-03-20</td>
                                <td>2023-06-30</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 78%"></div>
                                    </div>
                                    <span class="text-xs">78%</span>
                                </td>
                                <td>2.3</td>
                                <td><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">보조금</span></td>
                            </tr>
                            <tr>
                                <td>UI/UX 개선 프로젝트</td>
                                <td>내부 프로젝트</td>
                                <td>2023-05-01</td>
                                <td>2023-06-28</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 85%"></div>
                                    </div>
                                    <span class="text-xs">85%</span>
                                </td>
                                <td>1.5</td>
                                <td><span class="px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs">내부</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">프로젝트 유형별 분포</h3>
                        <div class="chart-container">
                            <canvas id="projectTypeChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">리소스 투입 현황</h3>
                        <div class="chart-container">
                            <canvas id="resourceAllocationChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">프로젝트 위험 요소</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>프로젝트명</th>
                                <th>위험 요소</th>
                                <th>위험도</th>
                                <th>대응 방안</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>빅데이터 플랫폼</td>
                                <td>데이터 처리량 증가로 인한 성능 저하</td>
                                <td><span class="px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs">높음</span></td>
                                <td>클라우드 리소스 확장 및 최적화 작업 진행중</td>
                            </tr>
                            <tr>
                                <td>스마트시티 데이터 수집</td>
                                <td>센서 연동 지연</td>
                                <td><span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs">중간</span></td>
                                <td>대체 센서 공급업체 접촉, 일정 조정</td>
                            </tr>
                            <tr>
                                <td>UI/UX 개선 프로젝트</td>
                                <td>디자인 의사결정 지연</td>
                                <td><span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs">중간</span></td>
                                <td>이번 주 내 디자인 워크숍 진행 예정</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <!-- Sales Pipeline Tab -->
        <div id="sales" class="tab-content">
            <section class="mb-8">
                <div class="bg-white p-5 rounded-lg shadow-md mb-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">영업 리드 및 파이프라인</h2>
                    <div class="chart-container">
                        <canvas id="salesPipelineChart"></canvas>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">리드 개수</h3>
                        <div class="text-center py-4">
                            <p class="text-5xl font-bold text-blue-600">28</p>
                            <p class="text-sm text-gray-500 mt-2">활성 리드</p>
                        </div>
                        <div class="grid grid-cols-3 text-center mt-4">
                            <div>
                                <p class="text-2xl font-bold text-gray-700">12</p>
                                <p class="text-xs text-gray-500">초기 접촉</p>
                            </div>
                            <div>
                                <p class="text-2xl font-bold text-gray-700">9</p>
                                <p class="text-xs text-gray-500">제안 단계</p>
                            </div>
                            <div>
                                <p class="text-2xl font-bold text-gray-700">7</p>
                                <p class="text-xs text-gray-500">협상 단계</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">스테이지 분포</h3>
                        <div class="chart-container">
                            <canvas id="leadStageChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-5 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">수주 가능성</h3>
                        <div class="chart-container">
                            <canvas id="conversionRateChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-4 text-gray-700">주요 영업 파이프라인</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>프로젝트명</th>
                                <th>고객사</th>
                                <th>예상 규모</th>
                                <th>단계</th>
                                <th>가능성(%)</th>
                                <th>예상 수주일</th>
                                <th>담당자</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>데이터 레이크 구축</td>
                                <td>D통신</td>
                                <td>₩120,000,000</td>
                                <td>협상 단계</td>
                                <td>85%</td>
                                <td>2023-07-15</td>
                                <td>김영업</td>
                            </tr>
                            <tr>
                                <td>AI 예측 모델링</td>
                                <td>E리테일</td>
                                <td>₩70,000,000</td>
                                <td>제안 단계</td>
                                <td>60%</td>
                                <td>2023-08-01</td>
                                <td>이사업</td>
                            </tr>
                            <tr>
                                <td>클라우드 마이그레이션</td>
                                <td>F서비스</td>
                                <td>₩95,000,000</td>
                                <td>협상 단계</td>
                                <td>75%</td>
                                <td>2023-07-25</td>
                                <td>박제안</td>
                            </tr>
                            <tr>
                                <td>IoT 데이터 분석</td>
                                <td>G제조</td>
                                <td>₩85,000,000</td>
                                <td>초기 접촉</td>
                                <td>30%</td>
                                <td>2023-09-10</td>
                                <td>김영업</td>
                            </tr>
                            <tr>
                                <td>보안 시스템 개선</td>
                                <td>H금융</td>
                                <td>₩110,000,000</td>
                                <td>제안 단계</td>
                                <td>65%</td>
                                <td>2023-08-15</td>
                                <td>이사업</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <script>
        // Set current date
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('ko-KR', {
            year: 'numeric', month: 'long', day: 'numeric'
        });

        // Tab navigation
        document.querySelectorAll('.tab-btn').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and contents
                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button and corresponding content
                button.classList.add('active');
                document.getElementById(button.dataset.tab).classList.add('active');
            });
        });
        
        // KPI Card click navigation
        document.querySelectorAll('.kpi-card').forEach(card => {
            card.addEventListener('click', () => {
                const tabId = card.dataset.tab;
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    if (btn.dataset.tab === tabId) {
                        btn.click();
                    }
                });
            });
        });

        // Chart data and configuration
        const months = ['1월', '2월', '3월', '4월', '5월', '6월'];
        
        // Monthly Finance Chart
        const monthlyFinanceCtx = document.getElementById('monthlyFinanceChart').getContext('2d');
        new Chart(monthlyFinanceCtx, {
            type: 'line',
            data: {
                labels: months,
                datasets: [
                    {
                        label: '매출',
                        data: [65, 78, 90, 105, 115, 125],
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        tension: 0.3,
                        fill: true
                    },
                    {
                        label: '비용',
                        data: [60, 65, 70, 72, 76, 78.5],
                        borderColor: 'rgba(255, 99, 132, 1)',
                        backgroundColor: 'rgba(255, 99, 132, 0.1)',
                        tension: 0.3,
                        fill: true
                    },
                    {
                        label: '보조금',
                        data: [20, 15, 30, 25, 35, 45],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.1)',
                        tension: 0.3,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW', maximumFractionDigits: 0 }).format(context.parsed.y * 1000000);
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return value + 'M';
                            }
                        }
                    }
                }
            }
        });

        // Balance Chart
        const balanceCtx = document.getElementById('balanceChart').getContext('2d');
        new Chart(balanceCtx, {
            type: 'line',
            data: {
                labels: months,
                datasets: [
                    {
                        label: '잔액',
                        data: [250, 263, 283, 316, 355, 324],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        fill: true,
                        tension: 0.3
                    },
                    {
                        label: 'Burn Rate',
                        data: [25, 27, 26.5, 26, 27.5, 26.5],
                        borderColor: 'rgba(255, 159, 64, 1)',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0.3
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    if (context.dataset.label === 'Burn Rate') {
                                        label += new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW', maximumFractionDigits: 0 }).format(context.parsed.y * 1000000);
                                    } else {
                                        label += new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW', maximumFractionDigits: 0 }).format(context.parsed.y * 1000000);
                                    }
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return value + 'M';
                            }
                        }
                    }
                }
            }
        });

        // Projects Chart
        const projectsCtx = document.getElementById('projectsChart').getContext('2d');
        new Chart(projectsCtx, {
            type: 'bar',
            data: {
                labels: months,
                datasets: [
                    {
                        label: '진행 프로젝트',
                        data: [5, 6, 7, 8, 9, 8],
                        backgroundColor: 'rgba(54, 162, 235, 0.7)'
                    },
                    {
                        label: '완료 프로젝트',
                        data: [1, 2, 1, 2, 3, 2],
                        backgroundColor: 'rgba(75, 192, 192, 0.7)'
                    },
                    {
                        label: '수주 금액',
                        data: [45, 60, 55, 85, 65, 85],
                        type: 'line',
                        borderColor: 'rgba(255, 159, 64, 1)',
                        backgroundColor: 'transparent',
                        yAxisID: 'y1',
                        tension: 0.3
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    if (context.dataset.label === '수주 금액') {
                                        label += new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW', maximumFractionDigits: 0 }).format(context.parsed.y * 1000000);
                                    } else {
                                        label += context.parsed.y + '건';
                                    }
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: '프로젝트 수'
                        }
                    },
                    y1: {
                        beginAtZero: true,
                        position: 'right',
                        grid: {
                            drawOnChartArea: false
                        },
                        title: {
                            display: true,
                            text: '수주 금액 (백만원)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value + 'M';
                            }
                        }
                    }
                }
            }
        });

        // Initialize additional charts for other tabs
        function initializeDetailCharts() {
            // Revenue Detail Chart
            if (document.getElementById('revenueDetailChart')) {
                const revenueDetailCtx = document.getElementById('revenueDetailChart').getContext('2d');
                new Chart(revenueDetailCtx, {
                    type: 'bar',
                    data: {
                        labels: months,
                        datasets: [
                            {
                                label: '라이선스',
                                data: [30, 35, 40, 45, 55, 60],
                                backgroundColor: 'rgba(54, 162, 235, 0.7)'
                            },
                            {
                                label: 'NRE',
                                data: [25, 30, 35, 40, 35, 45],
                                backgroundColor: 'rgba(75, 192, 192, 0.7)'
                            },
                            {
                                label: '하드웨어',
                                data: [10, 13, 15, 20, 25, 20],
                                backgroundColor: 'rgba(255, 205, 86, 0.7)'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW', maximumFractionDigits: 0 }).format(context.parsed.y * 1000000);
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                stacked: true,
                            },
                            y: {
                                stacked: true,
                                ticks: {
                                    callback: function(value) {
                                        return value + 'M';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Subsidies Detail Charts
            if (document.getElementById('subsidiesDetailChart')) {
                const subsidiesDetailCtx = document.getElementById('subsidiesDetailChart').getContext('2d');
                new Chart(subsidiesDetailCtx, {
                    type: 'bar',
                    data: {
                        labels: months,
                        datasets: [
                            {
                                label: '보조금 입금액',
                                data: [20, 15, 30, 25, 35, 45],
                                backgroundColor: 'rgba(75, 192, 192, 0.7)',
                                type: 'bar'
                            },
                            {
                                label: '진행률',
                                data: [30, 45, 55, 65, 75, 85],
                                borderColor: 'rgba(255, 159, 64, 1)',
                                backgroundColor: 'transparent',
                                type: 'line',
                                yAxisID: 'y1',
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return value + 'M';
                                    }
                                }
                            },
                            y1: {
                                beginAtZero: true,
                                max: 100,
                                position: 'right',
                                grid: {
                                    drawOnChartArea: false
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            if (document.getElementById('subsidiesByDeptChart')) {
                const subsidiesByDeptCtx = document.getElementById('subsidiesByDeptChart').getContext('2d');
                new Chart(subsidiesByDeptCtx, {
                    type: 'pie',
                    data: {
                        labels: ['과학기술정보통신부', '산업통상자원부', '국토교통부', '기타'],
                        datasets: [{
                            data: [45, 30, 15, 10],
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(255, 205, 86, 0.7)',
                                'rgba(201, 203, 207, 0.7)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }

            if (document.getElementById('subsidiesTrendChart')) {
                const subsidiesTrendCtx = document.getElementById('subsidiesTrendChart').getContext('2d');
                new Chart(subsidiesTrendCtx, {
                    type: 'line',
                    data: {
                        labels: months,
                        datasets: [
                            {
                                label: '보조금 입금액',
                                data: [20, 15, 30, 25, 35, 45],
                                borderColor: 'rgba(75, 192, 192, 1)',
                                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                                fill: true,
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return value + 'M';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Expenses Detail Charts
            if (document.getElementById('expensesDetailChart')) {
                const expensesDetailCtx = document.getElementById('expensesDetailChart').getContext('2d');
                new Chart(expensesDetailCtx, {
                    type: 'bar',
                    data: {
                        labels: months,
                        datasets: [
                            {
                                label: '인건비',
                                data: [40, 42, 44, 45, 46, 47],
                                backgroundColor: 'rgba(54, 162, 235, 0.7)'
                            },
                            {
                                label: '클라우드/서버',
                                data: [6, 7, 7.5, 8, 8.5, 9],
                                backgroundColor: 'rgba(255, 99, 132, 0.7)'
                            },
                            {
                                label: '외주용역',
                                data: [5, 5, 5, 5, 5.5, 5.5],
                                backgroundColor: 'rgba(75, 192, 192, 0.7)'
                            },
                            {
                                label: '마케팅',
                                data: [4, 4.5, 5, 5.5, 6, 6.5],
                                backgroundColor: 'rgba(255, 205, 86, 0.7)'
                            },
                            {
                                label: '기타',
                                data: [5, 6.5, 8.5, 8.5, 10, 10.5],
                                backgroundColor: 'rgba(201, 203, 207, 0.7)'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            }
                        },
                        scales: {
                            x: {
                                stacked: true,
                            },
                            y: {
                                stacked: true,
                                ticks: {
                                    callback: function(value) {
                                        return value + 'M';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            if (document.getElementById('expensesByCategoryChart')) {
                const expensesByCategoryCtx = document.getElementById('expensesByCategoryChart').getContext('2d');
                new Chart(expensesByCategoryCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['인건비', '클라우드/서버', '외주용역', '마케팅', '기타'],
                        datasets: [{
                            data: [54.1, 11.1, 6.8, 7.9, 20.1],
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(255, 99, 132, 0.7)',
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(255, 205, 86, 0.7)',
                                'rgba(201, 203, 207, 0.7)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right'
                            }
                        }
                    }
                });
            }

            if (document.getElementById('expensesTrendChart')) {
                const expensesTrendCtx = document.getElementById('expensesTrendChart').getContext('2d');
                new Chart(expensesTrendCtx, {
                    type: 'line',
                    data: {
                        labels: months,
                        datasets: [
                            {
                                label: '고정비',
                                data: [40, 42, 45, 47, 49, 50],
                                borderColor: 'rgba(54, 162, 235, 1)',
                                backgroundColor: 'transparent',
                                tension: 0.3
                            },
                            {
                                label: '간접비',
                                data: [20, 23, 25, 25, 27, 28.5],
                                borderColor: 'rgba(255, 99, 132, 1)',
                                backgroundColor: 'transparent',
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return value + 'M';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Projects Charts
            if (document.getElementById('projectTypeChart')) {
                const projectTypeCtx = document.getElementById('projectTypeChart').getContext('2d');
                new Chart(projectTypeCtx, {
                    type: 'pie',
                    data: {
                        labels: ['민간 프로젝트', '보조금 프로젝트', '내부 프로젝트'],
                        datasets: [{
                            data: [60, 30, 10],
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(255, 159, 64, 0.7)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }

            if (document.getElementById('resourceAllocationChart')) {
                const resourceAllocationCtx = document.getElementById('resourceAllocationChart').getContext('2d');
                new Chart(resourceAllocationCtx, {
                    type: 'bar',
                    data: {
                        labels: ['개발', '기획/디자인', '데이터', 'AI/ML', '인프라/운영'],
                        datasets: [
                            {
                                label: '민간 프로젝트',
                                data: [12, 6, 8, 10, 5],
                                backgroundColor: 'rgba(54, 162, 235, 0.7)'
                            },
                            {
                                label: '보조금 프로젝트',
                                data: [8, 3, 5, 6, 2],
                                backgroundColor: 'rgba(75, 192, 192, 0.7)'
                            },
                            {
                                label: '내부 프로젝트',
                                data: [3, 4, 2, 3, 1],
                                backgroundColor: 'rgba(255, 159, 64, 0.7)'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            }
                        },
                        scales: {
                            x: {
                                stacked: true,
                            },
                            y: {
                                stacked: true,
                                title: {
                                    display: true,
                                    text: 'MM'
                                }
                            }
                        }
                    }
                });
            }

            // Sales Pipeline Charts
            if (document.getElementById('salesPipelineChart')) {
                const salesPipelineCtx = document.getElementById('salesPipelineChart').getContext('2d');
                new Chart(salesPipelineCtx, {
                    type: 'bar',
                    data: {
                        labels: ['초기 접촉', '니즈 파악', '제안 단계', '협상 단계', '계약 준비'],
                        datasets: [
                            {
                                label: '파이프라인 금액',
                                data: [250, 180, 150, 120, 80],
                                backgroundColor: 'rgba(54, 162, 235, 0.7)',
                                order: 2
                            },
                            {
                                label: '전환율',
                                data: [100, 70, 60, 50, 30],
                                borderColor: 'rgba(255, 99, 132, 1)',
                                backgroundColor: 'transparent',
                                type: 'line',
                                order: 1,
                                yAxisID: 'y1',
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            if (context.dataset.label === '파이프라인 금액') {
                                                label += new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW', maximumFractionDigits: 0 }).format(context.parsed.y * 1000000);
                                            } else {
                                                label += context.parsed.y + '%';
                                            }
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: '금액 (백만원)'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value + 'M';
                                    }
                                }
                            },
                            y1: {
                                beginAtZero: true,
                                max: 100,
                                position: 'right',
                                grid: {
                                    drawOnChartArea: false
                                },
                                title: {
                                    display: true,
                                    text: '전환율 (%)'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            if (document.getElementById('leadStageChart')) {
                const leadStageCtx = document.getElementById('leadStageChart').getContext('2d');
                new Chart(leadStageCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['초기 접촉', '제안 단계', '협상 단계'],
                        datasets: [{
                            data: [12, 9, 7],
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(255, 205, 86, 0.7)',
                                'rgba(75, 192, 192, 0.7)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right'
                            }
                        }
                    }
                });
            }

            if (document.getElementById('conversionRateChart')) {
                const conversionRateCtx = document.getElementById('conversionRateChart').getContext('2d');
                new Chart(conversionRateCtx, {
                    type: 'pie',
                    data: {
                        labels: ['고확률 (70%+)', '중확률 (40-70%)', '저확률 (<40%)'],
                        datasets: [{
                            data: [7, 12, 9],
                            backgroundColor: [
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(255, 205, 86, 0.7)',
                                'rgba(255, 99, 132, 0.7)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right'
                            }
                        }
                    }
                });
            }
        }

        // Initialize all charts when page loads
        window.addEventListener('DOMContentLoaded', initializeDetailCharts);
    </script>
</body>
</html>
